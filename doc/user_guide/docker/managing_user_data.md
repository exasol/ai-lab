# Managing User Data

Exasol AI-Lab comes with a set of Jupyter Notebook Files with file extension `.ipynb` demonstrating AI applications on top of Exasol database.

Additionally the demos in the Exasol AI-Lab require some credentials and other configuration strings which are managed in a [Secure Configuration Storage](secure_configuration_storage.md) (SCS).

By default AI-Lab will instantiate the notebook files with a predefined content. The predefined content may change with each release of the AI-Lab.

The SCS on the other hand will be populated by Exasol AI-Lab including manual input from the user but also entries generated by Exasol AI-Lab.

The Docker Edition of Exasol AI-Lab allows you to
* Keep your data and changes in these files
* Reuse modified files in future sessions
* Backup and restore the files

## Basics

In order to save your changes persistently, to reuse, backup, and restore them, AI-Lab
* Keeps the notebook files as well as the SCS in directory `/root/notebooks` inside the Docker container
* Uses a so-called [_Docker Volume_](https://docs.docker.com/storage/volumes)

## Additional Environment Variables

Following the general [User Guide for the AI-Lab Docker Edition](docker_usage.md#defining-environment-variables) this document uses some additional environment variables:
* Variable `VOLUME` is expected to contain the name of your Docker volume.
* Variable `DIR` is expected to point to a directory to contain your backup.

Here are some sample values &mdash; please change to your needs:

```shell
VOLUME=my-vol
DIR=~/tmp/backup
```

## Creating a Backup of Your Volume

See also [Back up a volume](https://docs.docker.com/storage/volumes/#back-up-a-volume) in official Docker documentation.

The following shell commands will
* Run a Docker container
* Mount your volume
* Copy the contents of your volume to directory `$DIR`
* Remove the container

```shell
C=$(docker run --detach -v ${VOLUME}:/notebooks ubuntu sleep infinity)
docker cp ${C}:/notebooks ${DIR}
docker rm -f ${C}
unset C
```
## Restoring Your Volume Contents

See also [Restore volume from a backup](https://docs.docker.com/storage/volumes/#restore-volume-from-a-backup) in official Docker documentation.

The following shell commands will
* Run a Docker container
* Mount your volume
* Copy the contents of directory `$DIR` into your volume
* Remove the container

```shell
C=$(docker run --detach -v ${VOLUME}:/notebooks ubuntu sleep infinity)
docker cp ${DIR}/notebooks ${C}:/
docker rm -f ${C}
unset C
```
